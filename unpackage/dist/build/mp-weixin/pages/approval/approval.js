(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/approval/approval"],{"2b87":function(a,e,t){"use strict";(function(a){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{applySta:!0,applyInfoId:null,apply_remarks:"",apply_sta:1,admin_arrange:"",apartmentList:[],userSelectApartmentId:null,date_check_in:"",date_move_out:"",apa_name:"",modalName:null,selectApartmentBtnDisabled:!0,selectApartmentBtnText:"无数据"}},onLoad:function(e){t=this,console.log(e.id),t.applyInfoId=e.id,t.date_check_in=e.date_check_in,t.date_move_out=e.date_move_out,null!=t.applyInfoId&&""!=t.applyInfoId&&"undefined"!=typeof t.applyInfoId||a.showModal({content:"获取审批流程的ID异常",confirmText:"确定",showCancel:!1,success:function(e){e.confirm&&a.navigateBack({delta:1})}})},mounted:function(){t=this;var e={url:"queryAllApartmentInfoForList",setUpUrl:!0,type:"get",sCallback:function(e){1==e.code?a.showToast({title:"获取公寓数据异常",icon:"none"}):0==e.data.length?a.showToast({title:"公寓数据为空",icon:"none"}):(t.selectApartmentBtnText="选择公寓",t.selectApartmentBtnDisabled=!1,t.apartmentList=e.data)}};t.$base.request(e,t)},methods:{SetApplySta:function(a){t.apply_remarks="",t.admin_arrange="",1==a.detail.value&&(t.applySta=!0),2==a.detail.value&&(t.applySta=!1)},formSubmit:function(e){console.log("form发生了submit事件，携带数据为："+JSON.stringify(e.detail.value));var n=e.detail.value;if(1==n.apply_sta){if(""==n.admin_arrange||null==n.admin_arrange)return void a.showToast({title:"请选择公寓",icon:"none"})}else if(""==n.apply_remarks||null==n.apply_remarks)return void a.showToast({title:"请输入驳回理由",icon:"none"});var o={url:"applicationForExaminationAndApprovalByApplyIdToCheckIn",setUpUrl:!0,type:"get",data:{id:t.applyInfoId,sta:n.apply_sta,apply_remarks:n.apply_remarks,admin_arrange:n.admin_arrange,date_check_in:n.date_check_in,date_move_out:n.date_move_out},sCallback:function(e){console.log(e),console.log(e.message),1==e.code?a.showToast({title:e.message,icon:"none"}):a.navigateBack({delta:2,success:function(){a.showToast({title:e.message,icon:"none"})}})}};t.$base.request(o,t)},DateCheckIn:function(a){t.date_check_in=a.detail.value},DateExpireChange:function(a){t.date_move_out=a.detail.value},showModal:function(a){this.modalName=a.currentTarget.dataset.target},hideModal:function(a){this.modalName=null},searchIcon:function(a){for(var e=a.detail.value.toLowerCase(),n=t.apartmentList,o=0;o<n.length;o++){var l=e,i=n[o].apa_name.toLowerCase();-1!=i.search(l)?n[o].isShow=!0:n[o].isShow=!1}t.apartmentList=n},clickItem:function(a,e){t.apa_name=a,t.admin_arrange=e,t.hideModal()}}};e.default=n}).call(this,t("543d")["default"])},"2c01":function(a,e,t){},"47ee":function(a,e,t){"use strict";t.r(e);var n=t("d7c0"),o=t("58f5");for(var l in o)"default"!==l&&function(a){t.d(e,a,function(){return o[a]})}(l);t("e75d");var i=t("2877"),r=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},"58f5":function(a,e,t){"use strict";t.r(e);var n=t("2b87"),o=t.n(n);for(var l in n)"default"!==l&&function(a){t.d(e,a,function(){return n[a]})}(l);e["default"]=o.a},d7c0:function(a,e,t){"use strict";var n=function(){var a=this,e=a.$createElement;a._self._c},o=[];t.d(e,"a",function(){return n}),t.d(e,"b",function(){return o})},e75d:function(a,e,t){"use strict";var n=t("2c01"),o=t.n(n);o.a}},[["fc8f","common/runtime","common/vendor"]]]);