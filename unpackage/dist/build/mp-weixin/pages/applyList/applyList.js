(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/applyList/applyList"],{"0635":function(t,a,e){"use strict";e.r(a);var o=e("f2dc"),n=e("b9d2");for(var p in n)"default"!==p&&function(t){e.d(a,t,function(){return n[t]})}(p);var i=e("2877"),l=Object(i["a"])(n["default"],o["a"],o["b"],!1,null,null,null);a["default"]=l.exports},b2ae:function(t,a,e){"use strict";(function(t){var o;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(){return e.e("components/uni-load-more/uni-load-more").then(e.bind(null,"fd38"))},p={components:{uniLoadMore:n},data:function(){return{applyHistortArray:[],apply_sta:0,apply_type:2,LoadSta:0,page:1,limit:10,USERID:"",USERROLE:"",USERMAIN:""}},mounted:function(){o=this},onLoad:function(a){o=this;var e=t.getStorageSync("USERROLE");o.USERROLE=e;var n=t.getStorageSync("USERID");o.USERID=n;var p=t.getStorageSync("USERMAIN");o.USERMAIN=p,o.getApplyListBySta()},onPullDownRefresh:function(){o.getApplyListBySta()},onReachBottom:function(){this.getnewsList()},onShow:function(){o.getApplyListBySta()},methods:{openDetail:function(a,e,o){0==o?t.navigateTo({url:"/pages/applyCheckInInfo/applyCheckInInfo?id="+a+"&sta="+e+"&apply_type="+o}):1==o?t.navigateTo({url:"/pages/applyCheckOutInfo/applyCheckOutInfo?id="+a+"&sta="+e+"&apply_type="+o}):t.showToast({title:"获取申请类型异常，请退出后重试",icon:"none"})},changeAppType:function(t){o.LoadSta=0;var a=t.detail.value;o.apply_type=a,o.getApplyListBySta()},changeAppSta:function(t){o.LoadSta=0;var a=t.detail.value;o.apply_sta=a,o.getApplyListBySta()},getApplyListBySta:function(){if(o.LoadSta=0,o.page=1,o.applyHistortArray=[],1==o.USERROLE)var a={url:"queryApplyInfoByLimitAndUserIdWithRoleAdmin",setUpUrl:!0,type:"get",data:{user_main:o.USERMAIN,apply_type:o.apply_type,apply_sta:o.apply_sta,page:o.page,limit:o.limit},sCallback:function(a){1==a.code?t.showToast({title:a.info,icon:"none"}):(o.applyHistortArray=a.data,o.page++)}};else a={url:"queryApplyInfoByLimitAndUserIdWithRoleUser",setUpUrl:!0,type:"get",data:{apply_type:o.apply_type,apply_sta:o.apply_sta,user_id:o.USERID,page:o.page,limit:o.limit},sCallback:function(a){console.log(a),1==a.code?t.showToast({title:a.info,icon:"none"}):(0==a.count&&t.showToast({title:a.info,icon:"none"}),o.applyHistortArray=a.data,o.page++)}};o.$base.request(a,o)},getnewsList:function(){if(console.log("_this.page="+o.page),2!=o.LoadSta){o.LoadSta=1;o.apply_type,o.apply_sta;if(1==o.USERROLE)var a={url:"queryApplyInfoByLimitAndUserIdWithRoleAdmin",setUpUrl:!0,type:"get",data:{user_main:o.USERMAIN,apply_type:o.apply_type,apply_sta:o.apply_sta,page:o.page,limit:o.limit},sCallback:function(a){if(console.log(a),1==a.code)o.LoadSta=0,t.showToast({title:a.info,icon:"none"});else if(0==a.code){if(0==a.count)return t.showToast({title:"没有更多数据了",icon:"none"}),void(o.LoadSta=2);o.LoadSta=0,o.applyHistortArray=o.applyHistortArray.concat(a.data),o.page++}}};else a={url:"queryApplyInfoByLimitAndUserIdWithRoleUser",setUpUrl:!0,type:"get",data:{apply_type:o.apply_type,apply_sta:o.apply_sta,user_id:o.USERID,page:o.page,limit:o.limit},sCallback:function(a){if(console.log(a),1==a.code)o.LoadSta=0,t.showToast({title:a.info,icon:"none"});else{if(0==a.count)return t.showToast({title:"没有更多数据了",icon:"none"}),void(o.LoadSta=2);o.LoadSta=0,o.applyHistortArray=o.applyHistortArray.concat(a.data),o.page++,console.log(o.applyHistortArray)}}};o.$base.request(a,o),console.log(o.applyHistortArray)}else t.showToast({title:"没有更多数据了",icon:"none"})}}};a.default=p}).call(this,e("543d")["default"])},b9d2:function(t,a,e){"use strict";e.r(a);var o=e("b2ae"),n=e.n(o);for(var p in o)"default"!==p&&function(t){e.d(a,t,function(){return o[t]})}(p);a["default"]=n.a},f2dc:function(t,a,e){"use strict";var o=function(){var t=this,a=t.$createElement,e=(t._self._c,t.__map(t.applyHistortArray,function(a,e){var o=a.create_date.substring(2,10);return{$orig:t.__get_orig(a),g0:o}}));t.$mp.data=Object.assign({},{$root:{l0:e}})},n=[];e.d(a,"a",function(){return o}),e.d(a,"b",function(){return n})}},[["4f78","common/runtime","common/vendor"]]]);